name: "Setup Algorand"
description: "Setup Algorand"
inputs:
  python-version: # python version
    description: "Python version"
    required: true
    default: "3.10"
runs:
  using: "composite"
  steps:
    - name: Setup Python ${{ inputs.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ inputs.python-version }}

    - name: Checkout algorand sandbox
      uses: actions/checkout@v2
      with:
        repository: algorand/sandbox
        path: algorand-sandbox

    - name: copy config
      shell: bash
      run: cp ${{ github.action_path }}/config.test algorand-sandbox/

    - name: Run Algorand Sandbox
      working-directory: algorand-sandbox
      run: ./sandbox up test -v
